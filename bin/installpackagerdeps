#!/usr/bin/env bash

# TODO This script currently only works for macOS, should be made to work for
# windows and linux too.

# Install homebrew if it isn’t already installed
# See https://brew.sh for details
echo "Installing Homebrew…"
command -v brew >/dev/null ||
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
echo "  Finished installing Homebrew."

# Install homebrew packages
echo "Installing packages from Homebrew…"
brew install nodenv rbenv direnv
echo "  Finished installing packages from Homebrew."
# nodenv is a tool for managing different versions of node on different projects
# rbenv is a tool for managing different versions of ruby on different projects
# direnv is a tool for running code when you enter and exit a directoryat.

# Update your shell configuration

# Many libraries will ask you to update your shell config. If you set up direnv.
# Rather than clutter up your shell config, we use direnv so that relevant
# updates to your $PATH and other eval steps can be isolated to just this
# project directory. But, in order to do that, direnv needs to modify your shell
# config once.

echo "Updating your shell configuration…"
# shellcheck disable=2016
echo 'eval "$(direnv hook zsh)"' >>~/.zshrc
echo "  Finished updating your shell configuration."
